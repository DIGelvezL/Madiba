<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:fmt="http://java.sun.com/jsp/jstl/fmt"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:p="http://primefaces.org/ui">

<h:head></h:head> 

<body>
	<ui:composition template="/resources/plantilla/plantilla.xhtml">
	
		<ui:define name="titulo">
			 <title>Solicitar Conciliación</title>	
		</ui:define>
			
		<ui:define name="content">
			#{controllerLogin.redirect()}
		
			<h:form id="formulario" enctype="multipart/form-data">
			
				<div class='content-wrapper' style="height:10px;overflow:auto">
					<div class="content">
						<div class="box box-primary">
							<div class="box-header with-border" style="padding-bottom:0px">
								<i>
									<h:outputLabel value="Solicitar Conciliación" style="font-size:14pt; margin-left:1%"/>
								</i>
							</div>
							<div class='box-body'>
								<div class="box box-primary sombra">
									<h:panelGroup id="tablaAudienciaDetalle" layout="block" styleClass="box-body table-responsive ">
										<div class="box-header with-border" style="padding-bottom:0px">
			                 				<i>
					              				<h:outputLabel value="Convocantes" style="font-size:14pt; margin-left:1%"/>
			                   				</i>
										</div>
										<table id="example2" class="table table-bordered table-hover">
											<thead>
												<tr>
													<th>Nombres</th>
													<th>Apellidos</th>
													<th>Tipo Identificación</th>
													<th>Identificación</th>
													<th>Dirección</th>
													<th>Telefono</th>
													<th>Email</th>
												</tr>
											</thead>
											<tbody>
												<tr>
				
													<td>
														<h:inputText type="text" class="form-control" id="nombresConvocante" placeholder="Nombres" 
															value="#{solicitarConciliacionController.convocanteVO.nombres}" />
													</td>
													<td>
														<h:inputText type="text" class="form-control" id="apellidosConvocante" placeholder="Apellidos" 
															value="#{solicitarConciliacionController.convocanteVO.apellidos}" />
													</td>
													<td>
										                <h:selectOneMenu class="form-control" id="tipoIdentificacionConvocante" value="#{solicitarConciliacionController.convocanteVO.tipoId}" >
												            <f:selectItem itemLabel="Select One" itemValue="" />
												            <f:selectItem itemLabel="Cedula" itemValue="Cedula" />
												            <f:selectItem itemLabel="Tarjeta Identidad" itemValue="Tarjeta Identidad" />
												            <f:selectItem itemLabel="Cedula de extranjeria" itemValue="Cedula de extranjeria" />
												            <f:selectItem itemLabel="Pasaporte" itemValue="Pasaporte" />
												        </h:selectOneMenu>
													</td>
													<td>
														<h:inputText type="text" class="form-control" id="identifiacionConvocante" placeholder="Identificacion" 
															value="#{solicitarConciliacionController.convocanteVO.identificacion}" />
													</td>
													<td>
														<h:inputText type="text" class="form-control" id="direccionConvocante" placeholder="Direccion" 
															value="#{solicitarConciliacionController.convocanteVO.direccion}" />
													</td>
													<td>
														<h:inputText type="text" class="form-control" id="telefonoConvocante" placeholder="Telefono" 
															value="#{solicitarConciliacionController.convocanteVO.telefono}" />
													</td>
													<td>
														<h:inputText type="text" class="form-control" id="emailConvocante" placeholder="Email" 
															value="#{solicitarConciliacionController.convocanteVO.correo}" />
													</td>
				
												</tr>
											</tbody>
										</table>
										
										<div style="margin-top: 25px">
											<p:commandButton value="Agregar" id="AgregarConvocante" actionListener="#{solicitarConciliacionController.agregarConvocante}" 
												onclick="limpiarFormConvocante()" update="convocantes" icon="ui-icon-disk" />
										</div>
										
										<div style="margin-top: 25px">										
											<p:dataTable id="convocantes" value="#{solicitarConciliacionController.convocanteVOList}" var="convocante" editable="true" 
												rowKey="#{convocante.identificacion}" selection="#{solicitarConciliacionController.convocanteAgragadoVOList}" >
												<f:facet name="header">
													Convocantes
												</f:facet>
												<p:column selectionMode="multiple" style="width:16px;text-align:left"/>
												<p:column headerText="Nombres">
													<p:cellEditor>
														<f:facet name="output">
															<h:outputText value="#{convocante.nombres}" />
														</f:facet>
														<f:facet name="input">
															<p:inputText value="#{convocante.nombres}" />
														</f:facet>
													</p:cellEditor>
												</p:column>
												<p:column headerText="Apellidos">
													<p:cellEditor>
														<f:facet name="output">
															<h:outputText value="#{convocante.apellidos}" />
														</f:facet>
														<f:facet name="input">
															<p:inputText value="#{convocante.apellidos}" />
														</f:facet>
													</p:cellEditor>
												</p:column>
												<p:column headerText="Tipo Identificación">
													<p:cellEditor>
														<f:facet name="output">
															<h:outputText value="#{convocante.tipoId}" />
														</f:facet>
														<f:facet name="input">
															<h:selectOneMenu class="form-control" id="tipoIdentificacionConvocanteEdit" value="#{convocante.tipoId}" >
													            <f:selectItem itemLabel="Select One" itemValue="" />
													            <f:selectItem itemLabel="Cedula" itemValue="Cedula" />
													            <f:selectItem itemLabel="Tarjeta Identidad" itemValue="Tarjeta Identidad" />
													            <f:selectItem itemLabel="Cedula de extranjeria" itemValue="Cedula de extranjeria" />
													            <f:selectItem itemLabel="Pasaporte" itemValue="Pasaporte" />
													        </h:selectOneMenu>
														</f:facet>
													</p:cellEditor>
												</p:column>
												<p:column headerText="Identificación">
													<p:cellEditor>
														<f:facet name="output">
															<h:outputText value="#{convocante.identificacion}" />
														</f:facet>
														<f:facet name="input">
															<p:inputText value="#{convocante.identificacion}" />
														</f:facet>
													</p:cellEditor>
												</p:column>
												<p:column headerText="Dirección">
													<p:cellEditor>
														<f:facet name="output">
															<h:outputText value="#{convocante.direccion}" />
														</f:facet>
														<f:facet name="input">
															<p:inputText value="#{convocante.direccion}" />
														</f:facet>
													</p:cellEditor>
												</p:column>
												<p:column headerText="Telefono">
													<p:cellEditor>
														<f:facet name="output">
															<h:outputText value="#{convocante.telefono}" />
														</f:facet>
														<f:facet name="input">
															<p:inputText value="#{convocante.telefono}" />
														</f:facet>
													</p:cellEditor>
												</p:column>
												<p:column headerText="Email">
													<p:cellEditor>
														<f:facet name="output">
															<h:outputText value="#{convocante.correo}" />
														</f:facet>
														<f:facet name="input">
															<p:inputText value="#{convocante.correo}" />
														</f:facet>
													</p:cellEditor>
												</p:column>
												
												<f:facet name="footer">
													<p:commandButton value="Delete" update="convocantes" icon="ui-icon-close" actionListener="#{solicitarConciliacionController.eliminarConvocante}" />
												</f:facet>
												
												<p:column headerText="Opciones" style="width:50px">
													<p:rowEditor />
												</p:column>
					
											</p:dataTable>
										
											<p:contextMenu for="convocantes">
										        <p:menuitem value="Delete" update="convocantes" icon="ui-icon-close" actionListener="#{solicitarConciliacionController.eliminarConvocado}"/>
										    </p:contextMenu>
										</div>
									</h:panelGroup>
								</div>
							</div>
							
							<div class='box-body'>
								<div class="box box-primary sombra">
									<h:panelGroup id="tablaAgregarConvocado" layout="block" styleClass="box-body table-responsive ">
										<div class="box-header with-border" style="padding-bottom:0px">
			                 				<i>
					              				<h:outputLabel value="Convocados" style="font-size:14pt; margin-left:1%"/>
			                   				</i>
										</div>
										<table id="convocado" class="table table-bordered table-hover">
											<thead>
												<tr>
													<th>Nombres</th>
													<th>Apellidos</th>
													<th>Tipo Identificación</th>
													<th>Identificación</th>
													<th>Dirección</th>
													<th>Telefono</th>
													<th>Email</th>
												</tr>
											</thead>
											<tbody>
												<tr>
												
													<td>
														<h:inputText type="text" class="form-control" id="nombresConvocado" placeholder="Nombres" 
															value="#{solicitarConciliacionController.convocadoAgragadoVO.nombres}"  />
													</td>
													<td>
														<h:inputText type="text" class="form-control" id="apellidosConvocado" placeholder="Apellidos" 
															value="#{solicitarConciliacionController.convocadoAgragadoVO.apellidos}" />
													</td>
													<td>
														<h:selectOneMenu class="form-control" id="tipoIdentificacionConvocado" value="#{solicitarConciliacionController.convocadoAgragadoVO.tipoId}" >
												            <f:selectItem itemLabel="Select One" itemValue="" />
												            <f:selectItem itemLabel="Cedula" itemValue="Cedula" />
												            <f:selectItem itemLabel="Tarjeta Identidad" itemValue="Tarjeta Identidad" />
												            <f:selectItem itemLabel="Cedula de extranjeria" itemValue="Cedula de extranjeria" />
												            <f:selectItem itemLabel="Pasaporte" itemValue="Pasaporte" />
												        </h:selectOneMenu>
													</td>
													<td>
														<h:inputText type="text" class="form-control" id="identifiacionConvocado" placeholder="Identificacion" 
															value="#{solicitarConciliacionController.convocadoAgragadoVO.identificacion}" />
													</td>
													<td>
														<h:inputText type="text" class="form-control" id="direccionConvocado" placeholder="Direccion" 
															value="#{solicitarConciliacionController.convocadoAgragadoVO.direccion}" />
													</td>
													<td>
														<h:inputText type="text" class="form-control" id="telefonoConvocado" placeholder="Telefono" 
															value="#{solicitarConciliacionController.convocadoAgragadoVO.telefono}" />
													</td>
													<td>
														<h:inputText type="text" class="form-control" id="emailConvocado" placeholder="Email" 
															value="#{solicitarConciliacionController.convocadoAgragadoVO.correo}" />
													</td>
												
												</tr>
											</tbody>
										</table>
										
										<div style="margin-top: 25px">
											<p:commandButton value="Agregar" id="AgregarConvocados" actionListener="#{solicitarConciliacionController.agregarConvocado}" 
												onclick="limpiarFormConvocados()" update="convocados" icon="ui-icon-disk" />
										</div>
										
										<div style="margin-top: 25px">										
											<p:dataTable id="convocados" value="#{solicitarConciliacionController.convocadoVOList}" var="convocado" editable="true" 
												rowKey="#{convocado.identificacion}" selection="#{solicitarConciliacionController.convocadoAgragadoVOList}" >
												<f:facet name="header">
													Convocados
												</f:facet>
												<p:column selectionMode="multiple" style="width:16px;text-align:left"/>
												<p:column headerText="Nombres">
													<p:cellEditor>
														<f:facet name="output">
															<h:outputText value="#{convocado.nombres}" />
														</f:facet>
														<f:facet name="input">
															<p:inputText value="#{convocado.nombres}" />
														</f:facet>
													</p:cellEditor>
												</p:column>
												<p:column headerText="Apellidos">
													<p:cellEditor>
														<f:facet name="output">
															<h:outputText value="#{convocado.apellidos}" />
														</f:facet>
														<f:facet name="input">
															<p:inputText value="#{convocado.apellidos}" />
														</f:facet>
													</p:cellEditor>
												</p:column>
												<p:column headerText="Tipo Identificación">
													<p:cellEditor>
														<f:facet name="output">
															<h:outputText value="#{convocado.tipoId}" />
														</f:facet>
														<f:facet name="input">
															<h:selectOneMenu class="form-control" id="tipoIdentificacionConvocadoEdit" value="#{convocado.tipoId}" >
													            <f:selectItem itemLabel="Select One" itemValue="" />
													            <f:selectItem itemLabel="Cedula" itemValue="Cedula" />
													            <f:selectItem itemLabel="Tarjeta Identidad" itemValue="Tarjeta Identidad" />
													            <f:selectItem itemLabel="Cedula de extranjeria" itemValue="Cedula de extranjeria" />
													            <f:selectItem itemLabel="Pasaporte" itemValue="Pasaporte" />
													        </h:selectOneMenu>
														</f:facet>
													</p:cellEditor>
												</p:column>
												<p:column headerText="Identificación">
													<p:cellEditor>
														<f:facet name="output">
															<h:outputText value="#{convocado.identificacion}" />
														</f:facet>
														<f:facet name="input">
															<p:inputText value="#{convocado.identificacion}" />
														</f:facet>
													</p:cellEditor>
												</p:column>
												<p:column headerText="Dirección">
													<p:cellEditor>
														<f:facet name="output">
															<h:outputText value="#{convocado.direccion}" />
														</f:facet>
														<f:facet name="input">
															<p:inputText value="#{convocado.direccion}" />
														</f:facet>
													</p:cellEditor>
												</p:column>
												<p:column headerText="Telefono">
													<p:cellEditor>
														<f:facet name="output">
															<h:outputText value="#{convocado.telefono}" />
														</f:facet>
														<f:facet name="input">
															<p:inputText value="#{convocado.telefono}" />
														</f:facet>
													</p:cellEditor>
												</p:column>
												<p:column headerText="Email">
													<p:cellEditor>
														<f:facet name="output">
															<h:outputText value="#{convocado.correo}" />
														</f:facet>
														<f:facet name="input">
															<p:inputText value="#{convocado.correo}" />
														</f:facet>
													</p:cellEditor>
												</p:column>
												
												<f:facet name="footer">
													<p:commandButton value="Delete" update="convocados" icon="ui-icon-close" actionListener="#{solicitarConciliacionController.eliminarConvocado}" />
												</f:facet>
												
												<p:column headerText="Opciones" style="width:50px">
													<p:rowEditor />
												</p:column>
					
											</p:dataTable>
											
											<p:contextMenu for="convocados">
										        <p:menuitem value="Delete" update="convocados" icon="ui-icon-close" actionListener="#{solicitarConciliacionController.eliminarConvocado}"/>
										    </p:contextMenu>
										</div>
									</h:panelGroup>
								</div>
							</div>
							
							<div class='box-body'>
								<div class="box box-primary sombra">
									<h:panelGroup id="asuntoConciliar" layout="block" styleClass="box-body table-responsive ">
										<div class="box-header with-border" style="padding-bottom:0px">
			                 				<i>
					              				<h:outputLabel value="Asunto a conciliar" style="font-size:14pt; margin-left:1%"/>
			                   				</i>
										</div>
										<div class="form-group">
											<h:inputTextarea id="asunto" class="form-control" value="#{solicitarConciliacionController.solicitudVO.asunto}" styleClass="form-control" style="resize:none;background-color:#00a65a1a;" rows="6"/>
										</div>
									</h:panelGroup>
								</div>
							</div>
							
							<div class='box-body'>
								<div class="box box-primary sombra">
									<h:panelGroup id="idCuantia" layout="block" styleClass="box-body table-responsive ">
										<div class="box-header with-border" style="padding-bottom:0px">
			                 				<i>
					              				<h:outputLabel value="Cuantía" style="font-size:14pt; margin-left:1%"/>
			                   				</i>
										</div>
										<div class="col-lg-3">
											<h:inputText id="cuantia" value="#{solicitarConciliacionController.solicitudVO.cuantia}" styleClass="form-control espacio5 inputPretenciones" />
										</div>
									</h:panelGroup>
								</div>
							</div>
							
							<div class='box-body'>
								<div class="box box-primary sombra">
									<h:panelGroup id="idDesignacion" layout="block" styleClass="box-body table-responsive ">
										<div class="box-header with-border" style="padding-bottom:0px">
			                 				<i>
					              				<h:outputLabel value="Tipo de designación" style="font-size:14pt; margin-left:1%"/>
			                   				</i>
										</div>
										<h:outputLabel value="Designación por solicitud: " styleClass="control-label"/>
								        <p:inputSwitch value="#{solicitarConciliacionController.onOff}">
								            <f:ajax listener="#{solicitarConciliacionController.selectTipoDesignacion}" render="formulario" />
								        </p:inputSwitch>
								        
								        <p:dataTable id="conciliadorDT" disabledSelection="#{solicitarConciliacionController.tipoDesignacion}" var="conciliador" 
								        	value="#{solicitarConciliacionController.conciliadorVOList}" selectionMode="single"
								        	selection="#{solicitarConciliacionController.conciliadorVO}" rowKey="#{conciliador.idConciliador}" 
								        	rows="2"
						                    paginator="true"
						                    paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
						                    rowsPerPageTemplate="5,10,15">
									        <f:facet name="header">
									            Conciliadores
									        </f:facet>
									        <p:column headerText="Foto">
									            <img src="/Madiba_Solicitud/resources/img/#{conciliador.foto}"
														alt="" class="img-circle img-responsive" width="150" height="120" />
									        </p:column>
									        <p:column headerText="Nombre">
									            <h:outputText value="#{conciliador.nombres} #{conciliador.apellidos}" />
									        </p:column>
									        <p:column headerText="Identificación">
									            <h:outputText value="#{conciliador.identificacion}" />
									        </p:column>
									        <p:column headerText="Correo">
									            <h:outputText value="#{conciliador.correo}" />
									        </p:column>
									        <p:column headerText="Egresado">
									            <h:outputText value="#{conciliador.egresado}" />
									        </p:column>
									        <p:column headerText="Años de experiencia">
									            <h:outputText value="#{conciliador.experiencia}" />
									        </p:column>
									        <p:column headerText="Telefono">
									            <h:outputText value="#{conciliador.telefono}" />
									        </p:column>
									        <p:column headerText="Especialidades">
									            <h:outputText value="#{conciliador.nombreEspecialidad}" />
									        </p:column>
								            
									    </p:dataTable>
									</h:panelGroup>
								</div>
							</div>
							
							<div class='box-body'>
								<div class="box box-primary sombra">
									<h:panelGroup id="idAnexarPruebas" layout="block" styleClass="box-body table-responsive ">
										<div class="box-header with-border" style="padding-bottom:0px">
			                 				<i>
					              				<h:outputLabel value="Anexar pruebas" style="font-size:14pt; margin-left:1%"/>
			                   				</i>
										</div>
										<input type="file" id="exampleInputFile"/>
									</h:panelGroup>
								</div>
							</div>
						</div>
					</div>
				</div>
			</h:form>
					
			<div class='main-footer' style="height: 43.11111px;">
				<div class="text-center">
					<h:form id="formBotones">
						<h:commandButton value="Ficha" action="listaaudienciadetalleficha" styleClass="btn btn-sm btn-primary btn-menu"/>
						<h:commandButton value="Desarrollo Audiencia" actionListener="#{controllerSession.setIdAudienciaDesarroloAudiencia(controllerAudienciaDetalle.idAudienciaSelect)}" action="verdesarrolloaudiencia"  disabled="#{controllerAudienciaDetalle.bloquearBotonDesarrolloAudiencia()}" styleClass="btn btn-sm btn-primary btn-menu" />
					</h:form>				
				</div>
			</div>
		</ui:define>
	</ui:composition>
</body>
 
</html>
